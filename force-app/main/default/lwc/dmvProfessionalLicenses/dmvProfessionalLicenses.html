<template>
  <div class="dmv-business_bodyPadding">
    <div class="dmv-business_bodyTitle slds-p-bottom_small">
      Professional Licenses
    </div>
    <lightning-layout
      multiple-rows="true"
      pull-to-boundary="small"
      class="slds-p-top_small"
    >
      <template for:each={businesses} for:item="business">
        <lightning-layout-item
          key={business.Id}
          size="4"
          class="slds-var-p-around_x-small"
        >
          <lightning-card if:false={business.addCard} class="">
            <div
              class="
                slds-var-p-horizontal_small
                dmv-business_cardHeight
                business-tile-body
              "
            >
              <div class="slds-p-bottom_small dmv-business__accountIcon">
                <lightning-icon
                  icon-name="standard:account"
                  alternative-text="account"
                  size="medium"
                  class="slds-current-color"
                ></lightning-icon>
              </div>
              <div class="dmv-business__nameLabel slds-p-bottom_xx-small">
                Salesperson License Application
              </div>
              <div class="dmv-business__name slds-p-bottom_medium">
                {business.name}
              </div>
              <div class="dmv-business__name slds-p-bottom_medium">
                {business.licenseType}
              </div>
              <div
                class="
                  slds-p-bottom_medium
                  slds-align_absolute-center
                  dmv-bg-image
                  slds-m-top_x-small
                "
              ></div>
              <!-- <div class="slds-p-bottom_medium slds-align_absolute-center">
                  <img src={business.image} width="193px" />
                </div> -->

              <div class="slds-grid slds-m-bottom_small">
                <div
                  class="dmv-businessFlows__mainCardHeader slds-size_4-of-12"
                >
                  Progress
                </div>
                <div
                  class="
                    slds-text-align_right
                    dmv-businessFlows__mainCardHeader
                    slds-size_8-of-12
                  "
                >
                  {business.progressValue}% Complete
                </div>
              </div>
              <div>
                <lightning-progress-bar
                  value={business.progressValue}
                  size="large"
                ></lightning-progress-bar>
              </div>
              <div>
                <lightning-button
                  variant="brand"
                  label={business.label}
                  class="slds-align_absolute-center slds-m-top_x-large"
                  onclick={navigateNewUrl}
                  data-sequence="1"
                  name={business.Id}
                  data-buttonlabel={business.label}
                ></lightning-button>
              </div>
            </div>
          </lightning-card>
          <lightning-card
            if:true={business.addCard}
            class="dmv-business_cardHeight"
            onclick={launchFlow}
          >
            <div
              class="
                slds-var-p-horizontal_small
                dmv-business_cardHeight dmv-business__addCardBody
              "
            >
              <div class="slds-m-bottom_medium">
                <lightning-icon
                  icon-name="utility:add"
                  alternative-text="Add"
                  size="medium"
                  class="slds-align_absolute-center slds-current-color"
                ></lightning-icon>
              </div>
              <div class="slds-align_absolute-center">{business.name}</div>
            </div>
          </lightning-card>
        </lightning-layout-item>
      </template>
    </lightning-layout>
  </div>
</template>